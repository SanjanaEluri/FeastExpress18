{"ast":null,"code":"var _jsxFileName = \"D:\\\\MSWD\\\\SDPPROJECT\\\\frontendapp\\\\feastexpress\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { store } from '../App';\nimport CustomerNavbar from '../components/CustomerNavbar';\nimport { useCart } from './ContextReducer';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Cart() {\n  _s();\n  const [cart, setCart] = useCart();\n  const [token, setToken] = useContext(store);\n  const [data, setData] = useState(null);\n  const navigate = useNavigate();\n  const removeCartItem = pid => {\n    try {\n      const myCart = [...cart];\n      let index = myCart.findIndex(item => item._id === pid);\n      myCart.splice(index, 1);\n      setCart(myCart);\n      localStorage.setItem('cart', JSON.stringify(myCart));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const totalPrice = () => {\n    try {\n      let total = 0;\n      cart === null || cart === void 0 ? void 0 : cart.map(item => {\n        return total = total + item.Price;\n      });\n      return total.toLocaleString(\"en-US\", {\n        style: \"currency\",\n        currency: \"INR\"\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const handlePayment = async (req, res) => {\n    try {\n      await axios.post('http://localhost:2001/cart', {\n        cart,\n        data\n      });\n      localStorage.removeItem('cart');\n      setCart([]);\n      navigate('/order');\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    axios.get('http://localhost:2001/cart', {\n      headers: {\n        'x-token': token\n      }\n    }).then(res => setData(res.data)).catch(err => console.log(err));\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CustomerNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"My Cart\"\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: `cart?.length ? You have ${cart.length} items in your cart : You Cart is Empty`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-box-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-list\",\n            children: cart.map(item => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cart-card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `/uploads/${item.image}} alt={item.Itemname`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-container-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: item.Itemname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"Price : \", item.Price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"btn-remove\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger\",\n                      onClick: () => removeCartItem(item._id),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-box-checkout\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Cart Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Total | Checkout | Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Total : \", totalPrice()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePayment,\n            children: \"Make Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Cart, \"VUAR6mSdHnSM4Nr1uKJ5Q6aleX4=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useContext","useState","useEffect","store","CustomerNavbar","useCart","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","cart","setCart","token","setToken","data","setData","navigate","removeCartItem","pid","myCart","index","findIndex","item","_id","splice","localStorage","setItem","JSON","stringify","err","console","log","totalPrice","total","map","Price","toLocaleString","style","currency","handlePayment","req","res","post","removeItem","get","headers","then","catch","children","fileName","_jsxFileName","lineNumber","columnNumber","className","length","src","image","Itemname","onClick","_c","$RefreshReg$"],"sources":["D:/MSWD/SDPPROJECT/frontendapp/feastexpress/src/components/Cart.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\r\nimport { store } from '../App'\r\nimport CustomerNavbar from '../components/CustomerNavbar'\r\nimport { useCart } from './ContextReducer'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction Cart() {\r\n\r\n  const [cart, setCart] = useCart()\r\n\r\n  const [token, setToken] = useContext(store)\r\n  const [data, setData] = useState(null)\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const removeCartItem = (pid) => {\r\n    try {\r\n      const myCart = [...cart]\r\n      let index = myCart.findIndex(item => item._id === pid)\r\n      myCart.splice(index, 1)\r\n      setCart(myCart);\r\n      localStorage.setItem('cart', JSON.stringify(myCart))\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  const totalPrice = () => {\r\n    try {\r\n      let total = 0;\r\n      cart?.map((item) => {\r\n        return (\r\n          total = total + item.Price\r\n        )\r\n      })\r\n      return total.toLocaleString(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: \"INR\",\r\n      })\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n\r\n  const handlePayment = async (req, res) => {\r\n    try {\r\n      await axios.post('http://localhost:2001/cart', { cart, data })\r\n      localStorage.removeItem('cart')\r\n      setCart([])\r\n      navigate('/order')\r\n    }\r\n    catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:2001/cart', {\r\n      headers: {\r\n        'x-token': token\r\n      }\r\n    })\r\n      .then(res => setData(res.data))\r\n      .catch(err => console.log(err))\r\n  }, [token])\r\n\r\n\r\n  return (\r\n    <>\r\n      <CustomerNavbar />\r\n      <div className='cart-container'>\r\n\r\n        <h3><>My Cart</></h3>\r\n        <h4><center>{`cart?.length ? You have ${cart.length} items in your cart : You Cart is Empty`}</center></h4>\r\n        {/* <br /> */}\r\n        <div className='cart-box'>\r\n          <div className='cart-box-container'>\r\n            {/* <h5>My Cart</h5> */}\r\n            \r\n            <div className='cart-list'>\r\n              {\r\n                cart.map((item) => {\r\n                  return (\r\n\r\n                    <div className='cart-card-content'>\r\n                      <img src={`/uploads/${item.image}} alt={item.Itemname`} />\r\n                      <div className='cart-container-right'>\r\n                        <h4>{item.Itemname}</h4>\r\n                        <h6>Price : {item.Price}</h6>\r\n                        <div className='btn-remove'>\r\n                          <button className='btn btn-danger' onClick={() => removeCartItem(item._id)}>Remove</button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className='cart-box-checkout'>\r\n            <h5>Cart Summary</h5>\r\n            <p>Total | Checkout | Payment</p>\r\n            <hr />\r\n            <h4>Total : {totalPrice()}</h4>\r\n            {/* {\r\n              data ? <p>{data._id}</p> : <p>Please Try Again Later</p>\r\n            } */}\r\n\r\n            <button onClick={handlePayment}>Make Payment</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Cart"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,KAAK,QAAQ,QAAQ;AAC9B,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGzB,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAEd,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,OAAO,CAAC,CAAC;EAEjC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,UAAU,CAACG,KAAK,CAAC;EAC3C,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAMmB,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,MAAMe,cAAc,GAAIC,GAAG,IAAK;IAC9B,IAAI;MACF,MAAMC,MAAM,GAAG,CAAC,GAAGT,IAAI,CAAC;MACxB,IAAIU,KAAK,GAAGD,MAAM,CAACE,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,GAAG,KAAKL,GAAG,CAAC;MACtDC,MAAM,CAACK,MAAM,CAACJ,KAAK,EAAE,CAAC,CAAC;MACvBT,OAAO,CAACQ,MAAM,CAAC;MACfM,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACT,MAAM,CAAC,CAAC;IACtD,CAAC,CACD,OAAOU,GAAG,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB;EACF,CAAC;EAED,MAAMG,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI;MACF,IAAIC,KAAK,GAAG,CAAC;MACbvB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEwB,GAAG,CAAEZ,IAAI,IAAK;QAClB,OACEW,KAAK,GAAGA,KAAK,GAAGX,IAAI,CAACa,KAAK;MAE9B,CAAC,CAAC;MACF,OAAOF,KAAK,CAACG,cAAc,CAAC,OAAO,EAAE;QACnCC,KAAK,EAAE,UAAU;QACjBC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CACD,OAAOT,GAAG,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB;EACF,CAAC;EAGD,MAAMU,aAAa,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;IACxC,IAAI;MACF,MAAMtC,KAAK,CAACuC,IAAI,CAAC,4BAA4B,EAAE;QAAEhC,IAAI;QAAEI;MAAK,CAAC,CAAC;MAC9DW,YAAY,CAACkB,UAAU,CAAC,MAAM,CAAC;MAC/BhC,OAAO,CAAC,EAAE,CAAC;MACXK,QAAQ,CAAC,QAAQ,CAAC;IACpB,CAAC,CACD,OAAOa,GAAG,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB;EACF,CAAC;EAED/B,SAAS,CAAC,MAAM;IACdK,KAAK,CAACyC,GAAG,CAAC,4BAA4B,EAAE;MACtCC,OAAO,EAAE;QACP,SAAS,EAAEjC;MACb;IACF,CAAC,CAAC,CACCkC,IAAI,CAACL,GAAG,IAAI1B,OAAO,CAAC0B,GAAG,CAAC3B,IAAI,CAAC,CAAC,CAC9BiC,KAAK,CAAClB,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACnC,CAAC,EAAE,CAACjB,KAAK,CAAC,CAAC;EAGX,oBACEP,OAAA,CAAAE,SAAA;IAAAyC,QAAA,gBACE3C,OAAA,CAACL,cAAc;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAClB/C,OAAA;MAAKgD,SAAS,EAAC,gBAAgB;MAAAL,QAAA,gBAE7B3C,OAAA;QAAA2C,QAAA,eAAI3C,OAAA,CAAAE,SAAA;UAAAyC,QAAA,EAAE;QAAO,gBAAE;MAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrB/C,OAAA;QAAA2C,QAAA,eAAI3C,OAAA;UAAA2C,QAAA,EAAU,2BAA0BtC,IAAI,CAAC4C,MAAO;QAAwC;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAS;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE3G/C,OAAA;QAAKgD,SAAS,EAAC,UAAU;QAAAL,QAAA,gBACvB3C,OAAA;UAAKgD,SAAS,EAAC,oBAAoB;UAAAL,QAAA,eAGjC3C,OAAA;YAAKgD,SAAS,EAAC,WAAW;YAAAL,QAAA,EAEtBtC,IAAI,CAACwB,GAAG,CAAEZ,IAAI,IAAK;cACjB,oBAEEjB,OAAA;gBAAKgD,SAAS,EAAC,mBAAmB;gBAAAL,QAAA,gBAChC3C,OAAA;kBAAKkD,GAAG,EAAG,YAAWjC,IAAI,CAACkC,KAAM;gBAAsB;kBAAAP,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC1D/C,OAAA;kBAAKgD,SAAS,EAAC,sBAAsB;kBAAAL,QAAA,gBACnC3C,OAAA;oBAAA2C,QAAA,EAAK1B,IAAI,CAACmC;kBAAQ;oBAAAR,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACxB/C,OAAA;oBAAA2C,QAAA,GAAI,UAAQ,EAAC1B,IAAI,CAACa,KAAK;kBAAA;oBAAAc,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC7B/C,OAAA;oBAAKgD,SAAS,EAAC,YAAY;oBAAAL,QAAA,eACzB3C,OAAA;sBAAQgD,SAAS,EAAC,gBAAgB;sBAACK,OAAO,EAAEA,CAAA,KAAMzC,cAAc,CAACK,IAAI,CAACC,GAAG,CAAE;sBAAAyB,QAAA,EAAC;oBAAM;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAGV,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAED;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN/C,OAAA;UAAKgD,SAAS,EAAC,mBAAmB;UAAAL,QAAA,gBAChC3C,OAAA;YAAA2C,QAAA,EAAI;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrB/C,OAAA;YAAA2C,QAAA,EAAG;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACjC/C,OAAA;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN/C,OAAA;YAAA2C,QAAA,GAAI,UAAQ,EAAChB,UAAU,CAAC,CAAC;UAAA;YAAAiB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAK/B/C,OAAA;YAAQqD,OAAO,EAAEnB,aAAc;YAAAS,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP;AAAC3C,EAAA,CAhHQD,IAAI;EAAA,QAEaP,OAAO,EAKdC,WAAW;AAAA;AAAAyD,EAAA,GAPrBnD,IAAI;AAkHb,eAAeA,IAAI;AAAA,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}